let ICONS = { 
    grapes:                       {i: '🍇', d: 'grapes'}
    , melon:                      {i: '🍈', d: 'melon'}
    , watermelon:                 {i: '🍉', d: 'watermelon'}
    , banana:                     {i: '🍌', d: 'banana'}
    , pinapple:                   {i: '🍍', d: 'ananus'}
    , apple:                      {i: '🍎', d: 'apple'}
    , apple_outline:              {i: '🍏', d: 'apple outline'}
    , cherry:                     {i: '🍒', d: 'cherry'}
    , strawberry:                 {i: '🍓', d: 'strawberry'}
    , tomato:                     {i: '🍅', d: 'tomato'}
    , corn:                       {i: '🌽', d: 'corn'}
    , sparkler:                   {i: '🎇', d: "Sparkler"}
    , fireworks:                  {i: '🎆', d: "Fireworks"}
    , balloon:                    {i: '🎈', d: "Balloon"}
    , ribbon:                     {i: '🎀', d: "Ribbon"}
    , wrapped:                    {i: '🎁', d: "Wrapped Gift"}
    , party_popper:               {i: '🎉', d: "Party Popper"}
    , bulb:                       {i: '💡', d: "Light Bulb"}
    , moai:                       {i: '🗿', d: "Moai"}
    , chick:                      {i: '🐤', d: "Baby Chick"}
    , chick_face:                 {i: '🐥', d: "Front-Facing Baby Chick"}
    , hamburger:                  {i: '🍔', d: "Hamburger"}
    , fries:                      {i: '🍟', d: "French Fries"}
    , pizza:                      {i: '🍕', d: "Pizza"}
    , sushi:                      {i: '🍣', d: "Sushi"}
    , noodles:                    {i: '🍜', d: "Steaming Bowl"}
    , spaghetti:                  {i: '🍝', d: "Spaghetti"}
    , ice_cone:                   {i: '🍦', d: "Soft Ice Cream"}
    , ic_cream:                   {i: '🍧', d: "Shaved Ice"}
    , ice_sundae:                 {i: '🍨', d: "Ice Cream"}
    , doughnut:                   {i: '🍩', d: "Doughnut"}
    , cookie:                     {i: '🍪', d: "Cookie"}
    , birthday_cake:              {i: '🎂', d: "Birthday Cake"}
    , shortcake:                  {i: '🍰', d: "Shortcake"}
    , chocolate:                  {i: '🍫', d: "Chocolate Bar"}
    , candy:                      {i: '🍬', d: "Candy"}
    , lollipop:                   {i: '🍭', d: "Lollipop"}
    , knife_fork:                 {i: '🍴', d: "Fork and Knife"}
    , hot_drink:                  {i: '☕', d: "Hot Beverage"}
    , teacup:                     {i: '🍵', d: "Teacup Without Handle"}
    , sake:                       {i: '🍶', d: "Sake"}
    , shell:                      {i: '🐚', d: "Spiral Shell"}
    , sunflower:                  {i: '🌻', d: "Sunflower"}
    , palm:                       {i: '🌴', d: "Palm Tree"}
    , tropical_drink:             {i: '🍹', d: "Tropical Drink"}
    , alien:                      {i: '👾', d: "Alien Monster"}
    , snowboarder:                {i: '🏂', d: "Snowboarder"}
    , circus_tent:                {i: '🎪', d: "Circus Tent"}
    , trophy:                     {i: '🏆', d: "Trophy"}
    , soccer:                     {i: '⚽', d: "Soccer Ball"}
    , baseball:                   {i: '⚾', d: "Baseball"}
    , basketball:                 {i: '🏀', d: "Basketball"}
    , american_footbal:           {i: '🏈', d: "American Football"}
    , pool:                       {i: '🎱', d: "Pool 8 Ball"}
    , video:                      {i: '🎮', d: "Video Game"}
    , arts:                       {i: '🎭', d: "Performing Arts"}
    , artist:                     {i: '🎨', d: "Artist Palette"}
    , musical_score:              {i: '🎼', d: "Musical Score"}
    , microphone:                 {i: '🎤', d: "Microphone"}
    , headphone:                  {i: '🎧', d: "Headphone"}
    , saxophone:                  {i: '🎷', d: "Saxophone"}
    , guitar:                     {i: '🎸', d: "Guitar"}
    , trumpet:                    {i: '🎺', d: "Trumpet"}
    , violin:                     {i: '🎻', d: "Violin"}
    , clapper:                    {i: '🎬', d: "Clapper Board"}
    , monkey:                     {i: '🐒', d: "Monkey"}
    , camel:                      {i: '🐫', d: "Two-Hump Camel"}
    , elephant:                   {i: '🐘', d: "Elephant"}
    , mouse:                      {i: '🐭', d: "Mouse Face"}
    , bear:                       {i: '🐻', d: "Bear Face"}
    , koala:                      {i: '🐨', d: "Koala"}
    , panda:                      {i: '🐼', d: "Panda Face"}
    , paws:                       {i: '🐾', d: "Paw Prints"}
    , penguin:                    {i: '🐧', d: "Penguin"}
    , turtle:                     {i: '🐢', d: "Turtle"}
    , snake:                      {i: '🐍', d: "Snake"}
    , dragon:                     {i: '🐲', d: "Dragon Face"}
    , wale:                       {i: '🐳', d: "Spouting Whale"}
    , dolphin:                    {i: '🐬', d: "Dolphin"}
    , fish:                       {i: '🐟', d: "Fish"}
    , tropical_fish:              {i: '🐠', d: "Tropical Fish"}
    , blowfish:                   {i: '🐡', d: "Blowfish"}
    , octopus:                    {i: '🐙', d: "Octopus"}
    , bug:                        {i: '🐛', d: "Bug"}
    , ant:                        {i: '🐜', d: "Ant"}
    , honeybee:                   {i: '🐝', d: "Honeybee"}
    , bouquet:                    {i: '💐', d: "Bouquet"}
    , cherry_blossom:             {i: '🌸', d: "Cherry Blossom"}
    , white_flower:               {i: '💮', d: "White Flower"}
    , rose:                       {i: '🌹', d: "Rose"}
    , flower:                     {i: '🌺', d: "Hibiscus"}
    , sunflower:                  {i: '🌻', d: "Sunflower"}
    , blossom:                    {i: '🌼', d: "Blossom"}
    , tulip:                      {i: '🌷', d: "Tulip"}
    , seedling:                   {i: '🌱', d: "Seedling"}
    , sheaf:                      {i: '🌾', d: "Sheaf of Rice"}
    , herb:                       {i: '🌿', d: "Herb"}
    , shamrock:                   {i: '☘', d: "Shamrock"}
    , lucky_clover:               {i: '🍀', d: "Four Leaf Clover"}
    , maple_leaf:                 {i: '🍁', d: "Maple Leaf"}
    , fallen_leaf:                {i: '🍂', d: "Fallen Leaf"}
    , fluttering_leaf:            {i: '🍃', d: "Leaf Fluttering in Win"}
    , palm:                       {i: '🌴', d: "Palm Tree"}
    , cactus:                     {i: '🌵', d: "Cactus"}
    , globe:                      {i: '🌏', d: "Globe Showing Asia-Australia"}
    , white_star:                 {i: '⭐', d: "White Medium Star"}
    , glowing_star:               {i: '🌟', d: "Glowing Star"}
    , shooting_star:              {i: '🌠', d: "Shooting Star"}
    , cloud:                      {i: '☁', d: "Cloud"}
    , cloudy:                     {i: '⛅', d: "Sun Behind Cloud"}
    , rainbow:                    {i: '🌈', d: "Rainbow"}
    , umbrella:                   {i: '☂', d: "Umbrella"}
    , raining:                    {i: '☔', d: "Umbrella With Rain Drops"}
    , voltage:                    {i: '⚡', d: "High Voltage"}
    , snowflake:                  {i: '❄', d: "Snowflake"}
    , snowman:                    {i: '☃', d: "Snowman"}
    , snowless_snowman:           {i: '⛄', d: "Snowman Without Snow"}
    , comet:                      {i: '☄', d: "Comet"}
    , fire:                       {i: '🔥', d: "Fire"}
    , droplet:                    {i: '💧', d: "Droplet"}
    , water:                      {i: '🌊', d: "Water Wave"}
    , christmas_tree:             {i: '🎄', d: "Christmas Tree"}
    , sparkles:                   {i: '✨', d: "Sparkles"}
    , pine_decor:                 {i: '🎍', d: "Pine Decoration"}
    , smiling_horns:              {i: '😈', d: "Smiling Face With Horns"}
    , angry_horns:                {i: '👿', d: "Angry Face With Horns"}
    , ogre:                       {i: '👹', d: "Ogre"}
    , ghost:                      {i: '👻', d: "Ghost"}
    , alien:                      {i: '👽', d: "Alien"}
    , mountain_sunrise:           {i: '🌄', d: "Sunrise Over Mountains"}
    , sunrise:                    {i: '🌅', d: "Sunrise"}
    , tophat:                     {i: '🎩', d: "Top Hat"}
    , chequered_flag:             {i: '🏁', d: "Chequered Flag"}
    , triangular_flag:            {i: '🚩', d: "Triangular Flag"}
    , liberty:                    {i: '🗽', d: "Statue of Liberty"}
    , volcano:                    {i: '🌋', d: "Volcano"}
    , fire_engine:                {i: '🚒', d: "Fire Engine"}
    , circus:                     {i: '🎪', d: "Circus Tent"}
    , collision:                  {i: '💥', d: "Collision"}
    , spade_suit:                 {i: '♠', d: "Spade Suit"}
    , heart_suit:                 {i: '♥', d: "Heart Suit"}
    , diamond_suit:               {i: '♦', d: "Diamond Suit"}
    , club_suit:                  {i: '♣', d: "Club Suit"}
    , joker_card:                 {i: '🃏', d: "Joker"}
    , mahjong_card:               {i: '🀄', d: "Mahjong Red Dragon"}
    , flower_card:                {i: '🎴', d: "Flower Playing Cards"}
    , wheelchair:                 {i: '♿', d: "Wheelchair Symbol"}
    , mens:                       {i: '🚹', d: "Mens Room"}
    , womens:                     {i: '🚺', d: "Womens Room"}
    , restroom:                   {i: '🚻', d: "Restroom"}
    , baby:                       {i: '🚼', d: "Baby Symbol"}
    , toilet:                     {i: '🚾', d: "Water Closet"}
    , radioactive:                {i: '☢', d: "Radioactive"}
    , biohazard:                  {i: '☣', d: "Biohazard"}
    , atom:                       {i: '⚛', d: "Atom Symbol"}
    , trident:                    {i: '🔱', d: "Trident Emblem"}
    , curly:                      {i: '➰', d: "Curly Loop"}
    , double_curly:               {i: '➿', d: "Double Curly Loop"}
    , part_alt_mark:              {i: '〽', d: "Part Alternation Mark"}
    , glasses:                    {i: '👓', d: "Glasses"}
    , necktie:                    {i: '👔', d: "Necktie"}
    , dress:                      {i: '👗', d: "Dress"}
    , kimono:                     {i: '👘', d: "Kimono"}
    , purse:                      {i: '👛', d: "Purse"}
    , handbag:                    {i: '👜', d: "Handbag"}
    , graduation:                 {i: '🎓', d: "Graduation Cap"}
    , ring:                       {i: '💍', d: "Ring"}
    , closed_umbrella:            {i: '🌂', d: "Closed Umbrella"}
    , umbrella:                   {i: '☂', d: "Umbrella"}
    , briefcase:                  {i: '💼', d: "Briefcase"}
    , princess:                   {i: '👸', d: "Princess"}
    , crown:                      {i: '👑', d: "Crown"}
    , castle:                     {i: '🏰', d: "Castle"}
    , department:                 {i: '🏬', d: "Department Store"}
    , clinking_bells:             {i: '🍻', d: "Clinking Beer Mugs"}
    , carousel:                   {i: '🎠', d: "Carousel Horse"}
    , ferris:                     {i: '🎡', d: "Ferris Wheel"}
    , bell:                       {i: '🔔', d: "Bell"}
    , old_man:                    {i: '👴', d: "Old Man"}
    , old_woman:                  {i: '👵', d: "Old Woman"}
    , tshirt:                     {i: '👕', d: "T-Shirt"}
    , jeans:                      {i: '👖', d: "Jeans"}
    , trainer:                    {i: '👟', d: "Running Shoe"}
    , ewe:                        {i: '🐑', d: "Ewe"}
    , chicken:                    {i: '🐔', d: "Chicken"}
    , house_garden:               {i: '🏡', d: "House With Garden"}
    , bridge:                     {i: '🌉', d: "Bridge at Night"}
    , milky_way:                  {i: '🌌', d: "Milky Way"}
    , police:                     {i: '🚓', d: "Police Car"}
    , automobile:                 {i: '🚗', d: "Automobile"}
    , truck:                      {i: '🚚', d: "Delivery Truck"}
    , rocket:                     {i: '🚀', d: "Rocket"}
    , tennis:                     {i: '🎾', d: "Tennis"}
    , bowling:                    {i: '🎳', d: "Bowling"}
    , fishing:                    {i: '🎣', d: "Fishing Pole"}
    , running_shirt:              {i: '🎽', d: "Running Shirt"}
    , skis:                       {i: '🎿', d: "Skis"}
    , heart_floral:               {i: "❦", d: 'Heart' }
    , heart_floral_right:         {i: "❧", d: 'Heart' }
    , heart_floral_left:          {i: "☙", d: 'Heart' }
    , heart_90:                   {i: "❥", d: 'Heart' }
    , heavy_heart:                {i: "❣", d: 'Heart' }
    , heart_outline:              {i: "♡", d: 'Heart' }
    , heart_thin:                 {i: "♥", d: 'Heart' }
    , heart:                      {i: "❤", d: 'Heart' }
    , cupids_arrow:               {i: "➳", d: 'Heart' }
    , heart_sig:                  {i: "ღ", d: 'Heart' }
    , love_letter:                {i: "💌", d: 'Heart' }
    , love_hotel:                 {i: "🏩", d: 'Heart' }
    , heart_alarm:                {i: "💓", d: 'Heart' }
    , heart_broken:               {i: "💔", d: 'Heart' }
    , heart_pair:                 {i: "💕", d: 'Heart' }
    , heart_sparkle:              {i: "💖", d: 'Heart' }
    , heart_nested:               {i: "💗", d: 'Heart' }
    , heart_arrow:                {i: "💘", d: 'Heart' }
    , heart_thatch_diag_horiz:    {i: "💙", d: 'Heart' }
    , heart_thatch_diag_right:    {i: "💚", d: 'Heart' }
    , heart_thatch_diag_left:     {i: "💛", d: 'Heart' }
    , heart_thatch_vert:          {i: "💜", d: 'Heart' }
    , red_heart:                  {i: "🖤", d: 'Heart' }
    , heart_bow:                  {i: "💝", d: 'Heart' }
    , heart_ring:                 {i: "💞", d: 'Heart' }
    , heart_box:                  {i: "💟", d: 'Heart' }
    , love_pair:                  {i: "💑", d: 'Heart' }
}


Vue.component('ascii-icon', {
    template: `<div :class="['ascii-icon', key]"><span slot='icon'>{{ icon }}</span></div>`
    , props: {
        value: String
        , spin: [Boolean, String]
        , time: [Number, String]
        , speed: [Number, String]
    }
    , data(){
        return {
            key: 'icon'
            , icon: ''
            , desc: ''
            , name:''
        }
    }
    , mounted(){
        
        if(this.$slots.default && this.$slots.default.length > 0) {
            let name = this.$slots.default[0].text
            
            if(this.$props.spin == true
                || this.$props.spin == 'true') {
                this.cycleTo(name, parseFloat(this.$props.time), parseFloat(this.$props.speed))
            } else {
                this.name = name
            }
        }

    }

    , watch: {
        value(value, oldValue) {
            
            this.name = value
        }

        , name(v, ov) {
            this.setIcon(v)
        }
    }

    , methods: {
        setIcon(name){
            name = name.toLowerCase()

            let icon = ICONS[name]
            if(icon == undefined) {
                console.warn('Cannot set', name)
                return false
            }

            this.key = name
            this.icon = icon.i
            this.desc = icon.d
        }

        , cycle(speed=250){

            if(this._timer != undefined) {
                this.stop()
            }
            let names = Object.keys(ICONS)
            let choose = function(){
                let i = Math.floor(Math.random() * names.length)
                return names[i]
            }

            this._timer = setInterval(function(){
                this.name = choose()
            }.bind(this), speed)
        }

        , stop(){
            clearInterval(this._timer)
            delete this._timer
        }

        , cycleTo(name, time=1000, speed=100) {
            
            let tt = time;
            if(isNaN(tt) || Number.isInteger(tt) == false) {
                tt = 2000
            }

            this.cycle(speed)
            setTimeout(function(){
                this.stop()
                console.log(name)
                setTimeout(function(){
                    this.setIcon(name)
                }.bind(this), 30)
            }.bind(this), tt)

        }
    }
})

Vue.component('css-loader', {
    template: `<div class="css-loader"><div class="lds-ellipsis">
        <div></div><div></div><div></div><div></div><div class='placer'></div>
    </div></div>`
})