let ICONS = { 
    grapes:                       {i: 'ğŸ‡', d: 'grapes'}
    , melon:                      {i: 'ğŸˆ', d: 'melon'}
    , watermelon:                 {i: 'ğŸ‰', d: 'watermelon'}
    , banana:                     {i: 'ğŸŒ', d: 'banana'}
    , pinapple:                   {i: 'ğŸ', d: 'ananus'}
    , apple:                      {i: 'ğŸ', d: 'apple'}
    , apple_outline:              {i: 'ğŸ', d: 'apple outline'}
    , cherry:                     {i: 'ğŸ’', d: 'cherry'}
    , strawberry:                 {i: 'ğŸ“', d: 'strawberry'}
    , tomato:                     {i: 'ğŸ…', d: 'tomato'}
    , corn:                       {i: 'ğŸŒ½', d: 'corn'}
    , sparkler:                   {i: 'ğŸ‡', d: "Sparkler"}
    , fireworks:                  {i: 'ğŸ†', d: "Fireworks"}
    , balloon:                    {i: 'ğŸˆ', d: "Balloon"}
    , ribbon:                     {i: 'ğŸ€', d: "Ribbon"}
    , wrapped:                    {i: 'ğŸ', d: "Wrapped Gift"}
    , party_popper:               {i: 'ğŸ‰', d: "Party Popper"}
    , bulb:                       {i: 'ğŸ’¡', d: "Light Bulb"}
    , moai:                       {i: 'ğŸ—¿', d: "Moai"}
    , chick:                      {i: 'ğŸ¤', d: "Baby Chick"}
    , chick_face:                 {i: 'ğŸ¥', d: "Front-Facing Baby Chick"}
    , hamburger:                  {i: 'ğŸ”', d: "Hamburger"}
    , fries:                      {i: 'ğŸŸ', d: "French Fries"}
    , pizza:                      {i: 'ğŸ•', d: "Pizza"}
    , sushi:                      {i: 'ğŸ£', d: "Sushi"}
    , noodles:                    {i: 'ğŸœ', d: "Steaming Bowl"}
    , spaghetti:                  {i: 'ğŸ', d: "Spaghetti"}
    , ice_cone:                   {i: 'ğŸ¦', d: "Soft Ice Cream"}
    , ic_cream:                   {i: 'ğŸ§', d: "Shaved Ice"}
    , ice_sundae:                 {i: 'ğŸ¨', d: "Ice Cream"}
    , doughnut:                   {i: 'ğŸ©', d: "Doughnut"}
    , cookie:                     {i: 'ğŸª', d: "Cookie"}
    , birthday_cake:              {i: 'ğŸ‚', d: "Birthday Cake"}
    , shortcake:                  {i: 'ğŸ°', d: "Shortcake"}
    , chocolate:                  {i: 'ğŸ«', d: "Chocolate Bar"}
    , candy:                      {i: 'ğŸ¬', d: "Candy"}
    , lollipop:                   {i: 'ğŸ­', d: "Lollipop"}
    , knife_fork:                 {i: 'ğŸ´', d: "Fork and Knife"}
    , hot_drink:                  {i: 'â˜•', d: "Hot Beverage"}
    , teacup:                     {i: 'ğŸµ', d: "Teacup Without Handle"}
    , sake:                       {i: 'ğŸ¶', d: "Sake"}
    , shell:                      {i: 'ğŸš', d: "Spiral Shell"}
    , sunflower:                  {i: 'ğŸŒ»', d: "Sunflower"}
    , palm:                       {i: 'ğŸŒ´', d: "Palm Tree"}
    , tropical_drink:             {i: 'ğŸ¹', d: "Tropical Drink"}
    , alien:                      {i: 'ğŸ‘¾', d: "Alien Monster"}
    , snowboarder:                {i: 'ğŸ‚', d: "Snowboarder"}
    , circus_tent:                {i: 'ğŸª', d: "Circus Tent"}
    , trophy:                     {i: 'ğŸ†', d: "Trophy"}
    , soccer:                     {i: 'âš½', d: "Soccer Ball"}
    , baseball:                   {i: 'âš¾', d: "Baseball"}
    , basketball:                 {i: 'ğŸ€', d: "Basketball"}
    , american_footbal:           {i: 'ğŸˆ', d: "American Football"}
    , pool:                       {i: 'ğŸ±', d: "Pool 8 Ball"}
    , video:                      {i: 'ğŸ®', d: "Video Game"}
    , arts:                       {i: 'ğŸ­', d: "Performing Arts"}
    , artist:                     {i: 'ğŸ¨', d: "Artist Palette"}
    , musical_score:              {i: 'ğŸ¼', d: "Musical Score"}
    , microphone:                 {i: 'ğŸ¤', d: "Microphone"}
    , headphone:                  {i: 'ğŸ§', d: "Headphone"}
    , saxophone:                  {i: 'ğŸ·', d: "Saxophone"}
    , guitar:                     {i: 'ğŸ¸', d: "Guitar"}
    , trumpet:                    {i: 'ğŸº', d: "Trumpet"}
    , violin:                     {i: 'ğŸ»', d: "Violin"}
    , clapper:                    {i: 'ğŸ¬', d: "Clapper Board"}
    , monkey:                     {i: 'ğŸ’', d: "Monkey"}
    , camel:                      {i: 'ğŸ«', d: "Two-Hump Camel"}
    , elephant:                   {i: 'ğŸ˜', d: "Elephant"}
    , mouse:                      {i: 'ğŸ­', d: "Mouse Face"}
    , bear:                       {i: 'ğŸ»', d: "Bear Face"}
    , koala:                      {i: 'ğŸ¨', d: "Koala"}
    , panda:                      {i: 'ğŸ¼', d: "Panda Face"}
    , paws:                       {i: 'ğŸ¾', d: "Paw Prints"}
    , penguin:                    {i: 'ğŸ§', d: "Penguin"}
    , turtle:                     {i: 'ğŸ¢', d: "Turtle"}
    , snake:                      {i: 'ğŸ', d: "Snake"}
    , dragon:                     {i: 'ğŸ²', d: "Dragon Face"}
    , wale:                       {i: 'ğŸ³', d: "Spouting Whale"}
    , dolphin:                    {i: 'ğŸ¬', d: "Dolphin"}
    , fish:                       {i: 'ğŸŸ', d: "Fish"}
    , tropical_fish:              {i: 'ğŸ ', d: "Tropical Fish"}
    , blowfish:                   {i: 'ğŸ¡', d: "Blowfish"}
    , octopus:                    {i: 'ğŸ™', d: "Octopus"}
    , bug:                        {i: 'ğŸ›', d: "Bug"}
    , ant:                        {i: 'ğŸœ', d: "Ant"}
    , honeybee:                   {i: 'ğŸ', d: "Honeybee"}
    , bouquet:                    {i: 'ğŸ’', d: "Bouquet"}
    , cherry_blossom:             {i: 'ğŸŒ¸', d: "Cherry Blossom"}
    , white_flower:               {i: 'ğŸ’®', d: "White Flower"}
    , rose:                       {i: 'ğŸŒ¹', d: "Rose"}
    , flower:                     {i: 'ğŸŒº', d: "Hibiscus"}
    , sunflower:                  {i: 'ğŸŒ»', d: "Sunflower"}
    , blossom:                    {i: 'ğŸŒ¼', d: "Blossom"}
    , tulip:                      {i: 'ğŸŒ·', d: "Tulip"}
    , seedling:                   {i: 'ğŸŒ±', d: "Seedling"}
    , sheaf:                      {i: 'ğŸŒ¾', d: "Sheaf of Rice"}
    , herb:                       {i: 'ğŸŒ¿', d: "Herb"}
    , shamrock:                   {i: 'â˜˜', d: "Shamrock"}
    , lucky_clover:               {i: 'ğŸ€', d: "Four Leaf Clover"}
    , maple_leaf:                 {i: 'ğŸ', d: "Maple Leaf"}
    , fallen_leaf:                {i: 'ğŸ‚', d: "Fallen Leaf"}
    , fluttering_leaf:            {i: 'ğŸƒ', d: "Leaf Fluttering in Win"}
    , palm:                       {i: 'ğŸŒ´', d: "Palm Tree"}
    , cactus:                     {i: 'ğŸŒµ', d: "Cactus"}
    , globe:                      {i: 'ğŸŒ', d: "Globe Showing Asia-Australia"}
    , white_star:                 {i: 'â­', d: "White Medium Star"}
    , glowing_star:               {i: 'ğŸŒŸ', d: "Glowing Star"}
    , shooting_star:              {i: 'ğŸŒ ', d: "Shooting Star"}
    , cloud:                      {i: 'â˜', d: "Cloud"}
    , cloudy:                     {i: 'â›…', d: "Sun Behind Cloud"}
    , rainbow:                    {i: 'ğŸŒˆ', d: "Rainbow"}
    , umbrella:                   {i: 'â˜‚', d: "Umbrella"}
    , raining:                    {i: 'â˜”', d: "Umbrella With Rain Drops"}
    , voltage:                    {i: 'âš¡', d: "High Voltage"}
    , snowflake:                  {i: 'â„', d: "Snowflake"}
    , snowman:                    {i: 'â˜ƒ', d: "Snowman"}
    , snowless_snowman:           {i: 'â›„', d: "Snowman Without Snow"}
    , comet:                      {i: 'â˜„', d: "Comet"}
    , fire:                       {i: 'ğŸ”¥', d: "Fire"}
    , droplet:                    {i: 'ğŸ’§', d: "Droplet"}
    , water:                      {i: 'ğŸŒŠ', d: "Water Wave"}
    , christmas_tree:             {i: 'ğŸ„', d: "Christmas Tree"}
    , sparkles:                   {i: 'âœ¨', d: "Sparkles"}
    , pine_decor:                 {i: 'ğŸ', d: "Pine Decoration"}
    , smiling_horns:              {i: 'ğŸ˜ˆ', d: "Smiling Face With Horns"}
    , angry_horns:                {i: 'ğŸ‘¿', d: "Angry Face With Horns"}
    , ogre:                       {i: 'ğŸ‘¹', d: "Ogre"}
    , ghost:                      {i: 'ğŸ‘»', d: "Ghost"}
    , alien:                      {i: 'ğŸ‘½', d: "Alien"}
    , mountain_sunrise:           {i: 'ğŸŒ„', d: "Sunrise Over Mountains"}
    , sunrise:                    {i: 'ğŸŒ…', d: "Sunrise"}
    , tophat:                     {i: 'ğŸ©', d: "Top Hat"}
    , chequered_flag:             {i: 'ğŸ', d: "Chequered Flag"}
    , triangular_flag:            {i: 'ğŸš©', d: "Triangular Flag"}
    , liberty:                    {i: 'ğŸ—½', d: "Statue of Liberty"}
    , volcano:                    {i: 'ğŸŒ‹', d: "Volcano"}
    , fire_engine:                {i: 'ğŸš’', d: "Fire Engine"}
    , circus:                     {i: 'ğŸª', d: "Circus Tent"}
    , collision:                  {i: 'ğŸ’¥', d: "Collision"}
    , spade_suit:                 {i: 'â™ ', d: "Spade Suit"}
    , heart_suit:                 {i: 'â™¥', d: "Heart Suit"}
    , diamond_suit:               {i: 'â™¦', d: "Diamond Suit"}
    , club_suit:                  {i: 'â™£', d: "Club Suit"}
    , joker_card:                 {i: 'ğŸƒ', d: "Joker"}
    , mahjong_card:               {i: 'ğŸ€„', d: "Mahjong Red Dragon"}
    , flower_card:                {i: 'ğŸ´', d: "Flower Playing Cards"}
    , wheelchair:                 {i: 'â™¿', d: "Wheelchair Symbol"}
    , mens:                       {i: 'ğŸš¹', d: "Mens Room"}
    , womens:                     {i: 'ğŸšº', d: "Womens Room"}
    , restroom:                   {i: 'ğŸš»', d: "Restroom"}
    , baby:                       {i: 'ğŸš¼', d: "Baby Symbol"}
    , toilet:                     {i: 'ğŸš¾', d: "Water Closet"}
    , radioactive:                {i: 'â˜¢', d: "Radioactive"}
    , biohazard:                  {i: 'â˜£', d: "Biohazard"}
    , atom:                       {i: 'âš›', d: "Atom Symbol"}
    , trident:                    {i: 'ğŸ”±', d: "Trident Emblem"}
    , curly:                      {i: 'â°', d: "Curly Loop"}
    , double_curly:               {i: 'â¿', d: "Double Curly Loop"}
    , part_alt_mark:              {i: 'ã€½', d: "Part Alternation Mark"}
    , glasses:                    {i: 'ğŸ‘“', d: "Glasses"}
    , necktie:                    {i: 'ğŸ‘”', d: "Necktie"}
    , dress:                      {i: 'ğŸ‘—', d: "Dress"}
    , kimono:                     {i: 'ğŸ‘˜', d: "Kimono"}
    , purse:                      {i: 'ğŸ‘›', d: "Purse"}
    , handbag:                    {i: 'ğŸ‘œ', d: "Handbag"}
    , graduation:                 {i: 'ğŸ“', d: "Graduation Cap"}
    , ring:                       {i: 'ğŸ’', d: "Ring"}
    , closed_umbrella:            {i: 'ğŸŒ‚', d: "Closed Umbrella"}
    , umbrella:                   {i: 'â˜‚', d: "Umbrella"}
    , briefcase:                  {i: 'ğŸ’¼', d: "Briefcase"}
    , princess:                   {i: 'ğŸ‘¸', d: "Princess"}
    , crown:                      {i: 'ğŸ‘‘', d: "Crown"}
    , castle:                     {i: 'ğŸ°', d: "Castle"}
    , department:                 {i: 'ğŸ¬', d: "Department Store"}
    , clinking_bells:             {i: 'ğŸ»', d: "Clinking Beer Mugs"}
    , carousel:                   {i: 'ğŸ ', d: "Carousel Horse"}
    , ferris:                     {i: 'ğŸ¡', d: "Ferris Wheel"}
    , bell:                       {i: 'ğŸ””', d: "Bell"}
    , old_man:                    {i: 'ğŸ‘´', d: "Old Man"}
    , old_woman:                  {i: 'ğŸ‘µ', d: "Old Woman"}
    , tshirt:                     {i: 'ğŸ‘•', d: "T-Shirt"}
    , jeans:                      {i: 'ğŸ‘–', d: "Jeans"}
    , trainer:                    {i: 'ğŸ‘Ÿ', d: "Running Shoe"}
    , ewe:                        {i: 'ğŸ‘', d: "Ewe"}
    , chicken:                    {i: 'ğŸ”', d: "Chicken"}
    , house_garden:               {i: 'ğŸ¡', d: "House With Garden"}
    , bridge:                     {i: 'ğŸŒ‰', d: "Bridge at Night"}
    , milky_way:                  {i: 'ğŸŒŒ', d: "Milky Way"}
    , police:                     {i: 'ğŸš“', d: "Police Car"}
    , automobile:                 {i: 'ğŸš—', d: "Automobile"}
    , truck:                      {i: 'ğŸšš', d: "Delivery Truck"}
    , rocket:                     {i: 'ğŸš€', d: "Rocket"}
    , tennis:                     {i: 'ğŸ¾', d: "Tennis"}
    , bowling:                    {i: 'ğŸ³', d: "Bowling"}
    , fishing:                    {i: 'ğŸ£', d: "Fishing Pole"}
    , running_shirt:              {i: 'ğŸ½', d: "Running Shirt"}
    , skis:                       {i: 'ğŸ¿', d: "Skis"}
    , heart_floral:               {i: "â¦", d: 'Heart' }
    , heart_floral_right:         {i: "â§", d: 'Heart' }
    , heart_floral_left:          {i: "â˜™", d: 'Heart' }
    , heart_90:                   {i: "â¥", d: 'Heart' }
    , heavy_heart:                {i: "â£", d: 'Heart' }
    , heart_outline:              {i: "â™¡", d: 'Heart' }
    , heart_thin:                 {i: "â™¥", d: 'Heart' }
    , heart:                      {i: "â¤", d: 'Heart' }
    , cupids_arrow:               {i: "â³", d: 'Heart' }
    , heart_sig:                  {i: "áƒ¦", d: 'Heart' }
    , love_letter:                {i: "ğŸ’Œ", d: 'Heart' }
    , love_hotel:                 {i: "ğŸ©", d: 'Heart' }
    , heart_alarm:                {i: "ğŸ’“", d: 'Heart' }
    , heart_broken:               {i: "ğŸ’”", d: 'Heart' }
    , heart_pair:                 {i: "ğŸ’•", d: 'Heart' }
    , heart_sparkle:              {i: "ğŸ’–", d: 'Heart' }
    , heart_nested:               {i: "ğŸ’—", d: 'Heart' }
    , heart_arrow:                {i: "ğŸ’˜", d: 'Heart' }
    , heart_thatch_diag_horiz:    {i: "ğŸ’™", d: 'Heart' }
    , heart_thatch_diag_right:    {i: "ğŸ’š", d: 'Heart' }
    , heart_thatch_diag_left:     {i: "ğŸ’›", d: 'Heart' }
    , heart_thatch_vert:          {i: "ğŸ’œ", d: 'Heart' }
    , red_heart:                  {i: "ğŸ–¤", d: 'Heart' }
    , heart_bow:                  {i: "ğŸ’", d: 'Heart' }
    , heart_ring:                 {i: "ğŸ’", d: 'Heart' }
    , heart_box:                  {i: "ğŸ’Ÿ", d: 'Heart' }
    , love_pair:                  {i: "ğŸ’‘", d: 'Heart' }
}


Vue.component('ascii-icon', {
    template: `<div :class="['ascii-icon', key]"><span slot='icon'>{{ icon }}</span></div>`
    , props: {
        value: String
        , spin: [Boolean, String]
        , time: [Number, String]
        , speed: [Number, String]
    }
    , data(){
        return {
            key: 'icon'
            , icon: ''
            , desc: ''
            , name:''
        }
    }
    , mounted(){
        
        if(this.$slots.default && this.$slots.default.length > 0) {
            let name = this.$slots.default[0].text
            
            if(this.$props.spin == true
                || this.$props.spin == 'true') {
                this.cycleTo(name, parseFloat(this.$props.time), parseFloat(this.$props.speed))
            } else {
                this.name = name
            }
        }

    }

    , watch: {
        value(value, oldValue) {
            
            this.name = value
        }

        , name(v, ov) {
            this.setIcon(v)
        }
    }

    , methods: {
        setIcon(name){
            name = name.toLowerCase()

            let icon = ICONS[name]
            if(icon == undefined) {
                console.warn('Cannot set', name)
                return false
            }

            this.key = name
            this.icon = icon.i
            this.desc = icon.d
        }

        , cycle(speed=250){

            if(this._timer != undefined) {
                this.stop()
            }
            let names = Object.keys(ICONS)
            let choose = function(){
                let i = Math.floor(Math.random() * names.length)
                return names[i]
            }

            this._timer = setInterval(function(){
                this.name = choose()
            }.bind(this), speed)
        }

        , stop(){
            clearInterval(this._timer)
            delete this._timer
        }

        , cycleTo(name, time=1000, speed=100) {
            
            let tt = time;
            if(isNaN(tt) || Number.isInteger(tt) == false) {
                tt = 2000
            }

            this.cycle(speed)
            setTimeout(function(){
                this.stop()
                console.log(name)
                setTimeout(function(){
                    this.setIcon(name)
                }.bind(this), 30)
            }.bind(this), tt)

        }
    }
})

Vue.component('css-loader', {
    template: `<div class="css-loader"><div class="lds-ellipsis">
        <div></div><div></div><div></div><div></div><div class='placer'></div>
    </div></div>`
})